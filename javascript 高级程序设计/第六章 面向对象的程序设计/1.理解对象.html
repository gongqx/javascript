<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // 面向对象的语言有一个标志，那就是它们都有类的概念，而通过类可以创建任意多个具有相同属相和方法的对象。
        // ECMAScript中没有类的概念
        // 可以将对象想象成散列表：无非就是一组名值对，其中值可以是数据或函数。
        // 创建自定义对象的最简单方式就是创建一个Object的实例，然后为它添加属性和方法。
        var person = new Object();
        person.name = 'xinxin';
        person.sayName = function () {
            console.log(this.name);
        }
        person.sayName();
        // 这些属性在创建时都带有一些特征值,javascript通过这些特征值来定义他们的行为。
        // ECMAScript在定义只有内部才用的特性时，描述了属性（property）的各种特征。
        // ECMAScript有两种属性：数据属性和访问器属性。
        // 数据属性：
        // [[Configurable]]
        // [[Enumberable]]
        // [[Writable]]
        // [[Value]]
        // 要修改属性默认的特性，必须使用ECMAScript的Object.defineProperty()方法
        var person = {};
        Object.defineProperty(person, "name", {
            writable: false,
            value: 'Nicholas'
        });
        console.log(person.name);
        person.name = 'Aemon';
        console.log(person.name);
        // 访问器属性
        // [[Configurable]]
        // [[Enumberable]]
        // [[Get]]
        // [[Set]]
        var book = {
            _year: 2004,
            edition: 1
        };
        Object.defineProperty(book, "year", {
            get: function () {
                return this._year;
            },
            set: function (newValue) {
                if (newValue > 2004) {
                    this._year = newValue;
                    this.edition += newValue - 2004;
                }
            }
        });
        book.year = 2008;
        console.log(book.edition);
        // 定义多个属性
        var story = {};
        Object.defineProperties(story, {
            _year: {
                value: 2004
            },
            edition: {
                value: 1
            },
            year: {
                get: function () {
                    return this._year;
                },
                set: function (newValue) {
                    if (newValue > 2004) {
                        this._year = newValue;
                        this.edition += newValue - 2008;
                    }
                }
            }
        })
        // 读取属性的特性
        // 使用ECMAScript的Object.getOwnPropertyDescriptor()方法，可以取得给定属性的描述符。
        // 这个方法接收两个参数：属性所在的对象和要读取其描述符的属性名称。
        // 返回值是一个对象，如果是访问器属性，这个对象的属性有configurable、enumberable、get、set；
        // 如果是数据属性，这个对象的属性有configurable、enumberable、writable、value；
        
    </script>
</body>

</html>